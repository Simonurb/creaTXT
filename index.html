<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Creacion de archivos y directorios</title>

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    
    <script>
        $.ajax({
        type: "POST",
        url: "salida.php", 
        success: function(respuesta) {
        $('#resultado').html(respuesta);
        }
        });
    </script>
    

    
    <script>
        function enviarTxt(x, y){
        var parametros = {
        "nombre" : x,
        "texto" : y
        };

        $.ajax({
        type: 'POST', //método de envio
        url: 'salida.php', //archivo que recibe la peticion
        data: parametros, //datos que se envian a traves de ajax
        
        beforeSend: function() {
        $("#resultado").html("Procesando, espere por favor...");
        },

        fail: function() {
        $("#resultado").html("Error al insertar");
        },

        success: function(response) { //una vez que el archivo recibe el request lo procesa y lo devuelve
        $("#resultado").html("Archivo creado exitosamente");
        }

        });
        }
    </script>
    
    <script>
        function enviarCar(z){
    
        var parametros = {
        "nombreCarpeta" : z
        };
    
        $.ajax({
        type: 'POST', //método de envio
        url: 'datosCarpeta.php', //archivo que recibe la peticion
        data: parametros, //datos que se envian a traves de ajax
    
        beforeSend: function() {
        $("#resultado").html("Procesando, espere por favor...");
        },
    
        fail: function() {
        $("#resultado").html("Error al insertar");
        },
    
        success: function(response) { //una vez que el archivo recibe el request lo procesa y lo devuelve
        $("#resultado").html("Archivo creado exitosamente");
        }
    
        });
        }
        </script>

</head>



<body>
    <h2>Creación de archivos txt y directorios</h2>


    <!-----------------Creando archivos TXT------------------->
    <div class="row">
    <form name="form1" method="post" class="col s12">

    <div class="row">
    <div class="input-field col s3">
    <label>Nombre de archivo (sin la extensión txt)</label>
    <input type="text" id="txtNombre">
    </div>
    </div>

    <div class="row">
    <div class="input-field col s6">
    <label>Texto dentro del archivo</label>
    <input type="text" id="txtTexto">
    </div>
    </div>

    <div class="row">
    <div class="input-field col s6">
    <button onclick="enviarTxt($('#txtNombre').val(), $('#txtTexto').val())" class="btn waveseffect waves-light" type="submit" name="action">Crear archivo txt<i class="material-icons right">send</i>
    </button>
    </div>
    </div>
    <!-----------------Creando archivos TXT------------------->


    <!-----------------Creando carpetas------------------->
    <div class="row">
    <div class="input-field col s2">
    <label>Nombre de carpeta</label>
    <input type="text" id="txtCarpeta">
    </div>
    </div>

    <div class="row">
    <div class="input-field col s6">
    <button onclick="enviarCar($('#txtCarpeta').val())" class="btn waveseffect waves-light" type="submit" name="action">Crear carpeta<i class="material-icons right">send</i>
    </button>
    </div>
    </div>
    <!-----------------Creando carpetas------------------->

    </form>





    <div id="resultado" class="input-field col s6"></div>



    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    
</body>
</html>
